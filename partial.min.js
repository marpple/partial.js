// Partial.js 1.0.3
// Project Lead - Indong Yoo
// Maintainers - Piljung Park, Hanah Choi
// Contributors - Joeun Ha, Byeongjin Kim, Jeongik Park
// Respect Underscore.js
// (c) 2015-2017 Marpple. MIT Licensed.
!function(G){function _(n){if(_.isString(n))return _.method.apply(null,arguments);for(var t,r=[],e=arguments.length,i=e,u=1;u<e;u++){var a=arguments[u];a==___&&(i=u)&&(t=[])||(u<i?r.push(a):t.push(a))}var o=function(){return n.apply(this,merge_args(r,arguments,t))};return o._p_async=n._p_async,o._p_cb=n._p_cb,o}function _to_unde(n,t,r){t&&(n=n.concat(t)),r&&(n=n.concat(r));for(var e=0,i=n.length;e<i;e++)n[e]==_&&(n[e]=void 0);return n}function merge_args(n,t,r){if(!t.length)return r?_to_unde(n,r):_to_unde(_.clone(n));for(var e=_.clone(n),t=_.to_array(t),i=-1,u=e.length;++i<u;)e[i]==_&&(e[i]=t.shift());if(!r)return _to_unde(e,t.length?t:void 0);var a=_.clone(r),i=a.length;if(t.length){for(;i--;)a[i]==_&&(a[i]=t.pop());return _to_unde(e,t,a)}for(;i--&&a[i]==_;)a.pop();return _to_unde(e,a)}function goapply(n,t,r,e){for(var i,u=e||0;i=r[u++];)if(i._p_lzne){var a=[];do{a.push(i)}while((i=r[++u])&&i._p_lzne);i._p_lze?a.push(i):i=r[--u],t=i._p_go_lazy(a,t&&t.__mr?t[0]:t)}else if(i==__)t=__;else{if(i._p_cb)return go_async(n,t,r,u-1);if(t)if(t.__mr){if(thenable_mr(t))return go_async(n,t,r,u-1);if(t._stop)return 1==t.length?t[0]:t._stop=t;t=i.apply(n,t)}else{if(t.then&&_.isFunction(t.then))return go_async(n,t,r,u-1);t=t===__?i.call(n):i.call(n,t)}else t=i.call(n,t)}return t}function mr(){return arguments.__mr=!0,arguments}function mr_cat(){for(var n=[],t=0,r=arguments.length;t<r;t++){var e=arguments[t];if(is_mr(e))for(var _=0,i=e.length;_<i;_++)n.push(e[_]);else n.push(e)}return n.__mr=!0,n}function to_mr(n){return n.__mr=!0,n}function is_mr(n){return n&&n.__mr}function __(n){var t=Array.isArray(n)?n:arguments;return function(){return arguments.__mr=!0,this==window||this==_?_.go(arguments,t):goapply(this,arguments,t)}}function __1(){var n=__.apply(null,arguments);return function(t){return n.call(this,t)}}function ___(n){var t=Array.isArray(n)?n:arguments;return function(){return goapply(ithis(this,arguments),to_mr(arguments),t)}}function ithis(n,t){return{parent:n,arguments:t}}function ___1(){var n=___.apply(null,arguments);return function(t){return n.call(this,t)}}function has_promise(){return has_promise.__cache||(has_promise.__cache=!!_.val(window,"Promise.prototype.then"))}function thenable(n){return n&&n.then&&_.isFunction(n.then)}function thenable_mr(n){for(var t,r=n.length;r--;)if((t=n[r])&&t.then&&_.isFunction(t.then))return!0}function unpack_promise(n,t){var r=is_mr(n);return function n(e,_,i,u){if(e!=i)return thenable(_[e])&&(u=!0)?function(t){function r(r){_[t]=r,n(t+1,_,i,u)}return _[t].then(r).catch(r),!0}(e):n(e+1,_,i,u);u&&t(r?_:_[0])}(0,n=r?n:[n],n.length,!1)}function go_async(n,t,r,e){var _=r.length,i=null,u=has_promise()?new Promise(function(n){i=n}):{then:function(n){i=n}};return function t(u){do{if(e===_)return i?i(fpro(u)):setTimeout(function(){i&&i(fpro(u))},0);if(unpack_promise(u,t))return;if(r[e]==__&&e++&&(u=__),u&&u._stop)e=_,u=1==u.length?u[0]:u._stop=u;else if(r[e]._p_lzne){var a=[];do{a.push(r[e])}while(r[++e]&&r[e]._p_lzne);r[e]._p_lze?a.push(r[e]):e--,u=r[e]._p_go_lazy(a,u&&u.__mr?u[0]:u)}else r[e]._p_cb||(u=is_mr(u)?r[e++].apply(n,u):u===__?r[e++].call(n):r[e++].call(n,u))}while(e==_||e<_&&!r[e]._p_cb);unpack_promise(u,t)||(is_mr(u)?r[e++].apply(n,(u[u.length++]=function(){t(to_mr(arguments))})&&u):u===__?r[e++].call(n,function(){t(to_mr(arguments))}):r[e++].call(n,u,function(){t(to_mr(arguments))}))}(t),u}function fpro(n){return is_mr(n)&&1==n.length?n[0]:n}function likearr(n){var t=getLength(n);return"number"==typeof t&&t>=0&&t<=MAX_ARRAY_INDEX}function _keys(n){return _.isObject(n)?Object.keys(n):[]}function _invert(n){for(var t=_keys(n),r=t.length,e={},_=0;_<r;_++)e[n[t[_]]]=t[_];return e}function each(n,t,r){for(var e=r||0,_=getLength(n);e<_;e++)t(n[e],e,n);return n}function map(n,t){for(var r=[],e=0,_=getLength(n);e<_;e++)r.push(t(n[e],e,n));return r}function times2(n,t){for(var r=1;r<=n;r++)t(r)}function lambda(str){if("string"!=typeof str)return str;if(str=str.replace(/\*\*/g,'"'),str=str.replace(/\*/g,'"'),has_lambda||(str=str.replace(/`/g,"'")),lambda[str])return lambda[str];if(0==str.indexOf("#"))return lambda[str]=function(n){return function(t){return t.id==n}}(parseInt(str.substr(1)));if(!str.match(/=>/))return lambda[str]=new Function("$","return ("+str+")");if(has_lambda)return lambda[str]=eval(str);var ex_par=str.split(/\s*=>\s*/);return lambda[str]=new Function(ex_par[0].replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*\s*:|this|arguments|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],"return ("+ex_par[1]+")")}function bexdf(n,t){for(var r=1,e=t.length,_=t[0];r<e;r++)_&&t[r]&&n(_,t[r]);return _&&delete _._memoize,_}function setter(n,t){for(var r in t)n[r]=t[r]}function dsetter(n,t){for(var r in t)_.has(n,r)||(n[r]=t[r])}function flat(n,t,r,e){return each(t,function(t){if(!likearr(t)||!_.isArray(t)&&!_.isArguments(t))return n.push(t);r?each(t,function(t){n.push(t)}):flat(n,t,r)},e),n}function DataIter(n,t,r){if(n.length!=t||r!=G&&r!=_){if(n.length>t)var e=n[n.length-t],i=Iter(n);else var e=n[0],i=n[1]||_.idtt;return r!=_&&r!=G&&(i=_.bind(i,r)),[e,i]}}function Iter(n,t){for(var r=t?3:2,e=n[n.length-(t?2:1)],_=[],i=0,u=n.length-r;i<u;i++)_[i]=n[i];_[i+r]=n[n.length-2],e._p_cb&&_.length++;var a=function(){return _[i]=arguments[0],_[i+1]=arguments[1],t&&(_[i+2]=arguments[2]),e._p_cb&&(_[_.length-1]=arguments[arguments.length-1]),e.apply(null,_)};return a._p_async=e._p_async,a._p_cb=e._p_cb,a}function every_or_some(n){return function t(r,e){if(1==arguments.length&&_.isFunction(r))return _(t,___,r);var i=DataIter2(arguments,2,this);if(i)var u=i[0],a=i[1];else var u=r,a=e;var o=likearr(u)?null:_keys(u);if(a._p_async||a._p_cb)return _every_or_some_async(u,a,o,!n,0,n);if(o){if(!o.length)return!1;if((c=a(u[o[0]],o[0],u))&&(c.__mr?thenable_mr(c):c.then&&_.isFunction(c.then)))return _every_or_some_async(u,a,o,c,1,n);if(n?c:!c)return n;for(var e=1,l=o.length;e<l;e++)if(n?a(u[o[e]],o[e],u):!a(u[o[e]],o[e],u))return n}else{if(!u.length)return!1;var c=a(u[0],0,u);if(c&&(c.__mr?thenable_mr(c):c.then&&_.isFunction(c.then)))return _every_or_some_async(u,a,null,c,1,n);if(n?c:!c)return n;for(var e=1,l=u.length;e<l;e++)if(n?a(u[e],e,u):!a(u[e],e,u))return n}return!n}}function DataIter2(n,t,r){if(n.length!=t||r!=G&&r!=_||"string"==typeof n[1]){if(n.length>t)var e=n[n.length-t],i=Iter(n);else var e=n[0],i=("string"==typeof n[1]?_.val(n[1]):n[1])||_.idtt;return r!=_&&r!=G&&(i=_.bind(i,r)),[e,i]}}function getLength(n){return null==n?void 0:n.length}function createIndexFinder(n,t,r){return function(e,i,u){var a=0,o=getLength(e);if("number"==typeof u)n>0?a=u>=0?u:Math.max(u+o,a):o=u>=0?Math.min(u+1,o):u+o+1;else if(r&&u&&o)return u=r(e,i),e[u]===i?u:-1;if(i!==i)return u=t(slice.call(e,a,o),_.isNaN),u>=0?u+a:-1;for(u=n>0?a:o-1;u>=0&&u<o;u+=n)if(e[u]===i)return u;return-1}}function number_of_tab(n){var t=n.match(REG1)[0],r=(t.match(/\t/g)||[]).length;return t.replace(/\t/g,"").length/TAB_SIZE+r}function s(n,t){var r=remove_comment(_.map(_.rest(arguments,2),function(n){if(_.isString(n))return n;var t=_.uniqueId("func");return window.__ptf_storage[t]=n,"__ptf_storage."+t}).join("")),e={matcher:{}};return e.matcher[s_matcher_reg1]=s_matcher(3,s_matcher_reg1,r,t),r=r.replace(s_matcher_reg1,"__PJT__"),e.matcher[s_matcher_reg2]=s_matcher(2,s_matcher_reg2,r,t),r=n(r.replace(s_matcher_reg2,"{{}}").replace(/__PJT__/g,"{{{}}}")),function(){return _.go(_.mr(r,arguments,e),insert_datas1,insert_datas2,_.idtt)}}function s_matcher(n,t,r,e){return map(r.match(t),function(t){return new Function(e,"return "+t.substring(n,t.length-n)+";")})}function remove_comment(n){return n.replace(/\/\*(.*?)\*\//g,"").replace(REG2,"")}function s_exec(n,t,r,e,i){var u=!1,a=_.map(i.matcher[n],function(n){var r=_.go(n.apply(null,e),t,return_check);return thenable(r)&&(u=!0),r});return _.go(_.mr(r.split(n),u&&_.isArray(a)?_.map(a,_.async(_.idtt)):a),function(n,t){return _.mr(map(t,function(t,r){return n[r]+t}).join("")+n[n.length-1],e,i)})}function convert_to_html(n){var t=[],r=n.match(REG3),e=number_of_tab(r[0]),_=0;r[r.length-1]=r[r.length-1].replace(REG4[e]||(REG4[e]=new RegExp(TAB+"{"+e+"}$")),"");for(var i=0;i<r.length;i++){for(;number_of_tab(r[i])-e<t.length&&(_=0,0!=t.length);)r[i-1]+=end_tag(t.pop());var u=r[i];_?(r[i]=r[i].replace(REG6[_]||(REG6[_]=new RegExp("("+TAB+"{"+_+"})","g")),"\n"),r[i]!==(r[i]=r[i].replace(REG7,"\n"))&&(r=push_in(r,i+1,RegExp.$1))):(r[i]=line(r[i],t),u.match(REG5)&&(_=number_of_tab(RegExp.$1)+1))}for(;t.length;)r[r.length-1]+=end_tag(t.pop());return r.join("")}function line(n,t){return n=n.replace(REG8,"\n").replace(/^[ \t]*/,""),n.match(/^[\[.#\w\-]/)?n.replace(/^(\[.*\]|\{.*?\}|\S)+ ?/,function(n){return start_tag(n,t)}):n}function push_in(n,t,r){var e=n.splice(t);return n.push(r),n.concat(e)}function start_tag(n,t,r,e,i){return r="",e=n.match(/^\w+/),"input"!=(e=e&&"d"!=e?"sp"==e?"span":e:"div")&&"br"!=e&&t.push(e),n=n.replace(/\[(.*)\]/,function(n,t){return(r+=" "+t)&&""}),(i=_.map(n.match(/\.(\{\{\{.*?\}\}\}|\{\{.*?\}\}|[\w\-]+)/g),function(n){return n.slice(1)}).join(" "))&&r==(r=r.replace(/class\s*=\s*((\").*?\"|(\{.*?\}|\S)+)/,function(n,t,r){return' class="'+i+" "+(r?t.slice(1,-1):t)+'"'}))&&(r=' class="'+i+'"'+r),r=[""].concat(_.map(n.match(/#(\{\{\{.*?\}\}\}|\{\{.*?\}\}|[\w\-]+)/g),function(n){return n.slice(1)})).join(" id=")+r,"<"+e+r+" >"}function end_tag(n){return"</"+n+">"}function return_check(n){return null==n||void 0==n?"":n}function _set(n,t,r){return _.isFunction(r)?_.go(_.mr(n[t],t,n),r,function(r){return _.mr(n[t]=r,t,n)}):_.mr(n[t]=r,t,n)}function _unset(n,t){var r=n[t];return delete n[t],_.mr(r,t,n)}function _remove(n,t){return _.mr(t,_.removeByIndex(n,n.indexOf(t)),n)}function _pop(n){return _.mr(n.pop(),n.length,n)}function _shift(n){return _.mr(n.shift(),0,n)}function _push(n,t){return _.isFunction(t)?_.go(n,t,function(t){return _.mr(t,n.push(t),n)}):_.mr(t,n.push(t),n)}function _unshift(n,t){return _.isFunction(t)?_.go(n,t,function(t){return _.mr(t,n.unshift(t),n)}):_.mr(t,n.unshift(t),n)}function Box(){}function help_result(n,t){return n[0]=t||_.box(n[0]),n}function go_strict(n,t){return _.go(t,map(_.rest(n),function(n){return n._p_lzt_m?_.map(n):n._p_lzt_ft?_.filter(n):n._p_lzt_t?_.take(n.limit):n._p_lzt_fi?_.find(n):n._p_lzt_s?_.some(n):n._p_lzt_e?_.every(n):_.isFunction(n)?_.loop(n):_.loop(n[0],n[1])}))}function go_lazy_t(n,t){var r=0;if(n[0]._p_lzst&&(r=1)&&n[0](t))return go_strict(n,t);var e=[],_=n[n.length-1].limit;n:for(var i=0,u=0,a=t.length,o=n.length-1;i<a;i++){for(var l=t[i],c=r;c<o;c++){var s=n[c],f=s(l);if(s._p_lzt_m)l=f;else if(!f)continue n}if(e[u++]=l,u==_)return e}return e}function go_lazy_fi(n,t){var r=0;if(n[0]._p_lzst&&(r=1)&&n[0](t))return go_strict(n,t);var e=n[n.length-1];n:for(var _=0,i=t.length,u=n.length-1;_<i;_++){for(var a=t[_],o=r;o<u;o++){var l=n[o],c=l(a);if(l._p_lzt_m)a=c;else if(!c)continue n}if(e(a))return a}}function go_lazy_s(n,t){var r=0;if(n[0]._p_lzst&&(r=1)&&n[0](t))return go_strict(n,t);var e=n[n.length-1];n:for(var _=r,i=t.length,u=n.length-1;_<i;_++){for(var a=t[_],o=0;o<u;o++){var l=n[o],c=l(a);if(l._p_lzt_m)a=c;else if(!c)continue n}if(e(a))return!0}return!1}function go_lazy_e(n,t){var r=0;if(n[0]._p_lzst&&(r=1)&&n[0](t))return go_strict(n,t);var e=n[n.length-1];if(!t.length)return!1;n:for(var _=0,i=t.length,u=n.length-1;_<i;_++){for(var a=t[_],o=r;o<u;o++){var l=n[o],c=l(a);if(l._p_lzt_m)a=c;else if(!c)continue n}if(!e(a))return!1}return!0}function go_lazy_l(n,t){var r=0;if(n[0]._p_lzst&&(r=1)&&n[0](t))return go_strict(n,t);var e,i=n[n.length-1],u=i,a=!1;_.is_mr(u)&&(i=u[0],e=u[1],e=_.isFunction(e)?e():_.clone(e),a=!0);n:for(var o=0,l=t.length,c=n.length-1;o<l;o++){for(var s=t[o],f=r;f<c;f++){var h=n[f],p=h(s);if(h._p_lzt_m)s=p;else if(!p)continue n}if(a?e=i(e,s):(e=s,a=!0),e&&e._break)return e[0]}return e}function go_lazy(n,t){var r=0;if(n[0]._p_lzst&&(r=1)&&n[0](t))return go_strict(n,t);var e=[];n:for(var _=0,i=0,u=t.length,a=n.length;_<u;_++){for(var o=t[_],l=r;l<a;l++){var c=n[l],s=c(o);if(c._p_lzt_m)o=s;else if(!s)continue n}e[i++]=o}return e}function wrap_iter(n){function t(t){return n(t)}return t._p_async=n._p_async,t._p_cb=n._p_cb,t}var window="object"!=typeof window?G:window,prev_=window._;window._previous_underscore||!prev_||prev_._partialjs||(window._previous_underscore=function(){return prev_}),window._partial_namespace=function(){return _},_.partial=_,_.partial._partialjs=!0,_.m=_.method=function(n){return _.apply(null,[function(t){return t[n].apply(t,_.rest(arguments))},_].concat(_.rest(arguments)))},_.bind=function(n){var t=Function.prototype.bind.apply(n,_.rest(arguments));return t._p_async=n._p_async,t._p_cb=n._p_cb,t},_.go=function(n,t){if(this!=_&&this!=window)return _.isFunction(t)?goapply(this,n,arguments,1):goapply(this,n,t);var r,e=0,i=arguments;for(_.isFunction(t)||(e=-1,i=t);r=i[++e];)if(r._p_lzne){var u=[];do{u.push(r)}while((r=i[++e])&&r._p_lzne);r._p_lze?u.push(r):r=i[--e],n=r._p_go_lazy(u,n&&n.__mr?n[0]:n)}else if(r==__)n=__;else{if(r._p_cb)return go_async(null,n,i,e);if(n)if(n.__mr){if(thenable_mr(n))return go_async(null,n,i,e);if(n._stop)return 1==n.length?n[0]:n._stop=n;n=r.apply(void 0,n)}else{if(n.then&&_.isFunction(n.then))return go_async(null,n,i,e);n=n===__?r():r(n)}else n=r(n)}return n},_.mr=mr,_.to_mr=to_mr,_.is_mr=is_mr,_.mr_cat=mr_cat,_.stop=function(){return arguments._stop=arguments.__mr=!0,arguments},_.pipe=__,_.pipe1=__1,_.indent=___,_.indent1=___1,_.tap=_.Tap=function(){var n=__.apply(null,arguments);return function(t){var r=arguments.length>1?to_mr(arguments):arguments.length?arguments[0]:__;return _.go.call(this,r,n,_.c(r))}},_.add_arg=function(){var n=__.apply(null,arguments);return function(t){var r=arguments.length>1?to_mr(arguments):arguments.length?arguments[0]:__;return _.go.call(this,r,n,function(){return _.mr_cat(t,_.to_mr(arguments))})}},_.wait=function(n){return _.callback(function(){var t=arguments,r=t[t.length-1];t.length--,setTimeout(function(){r.apply(null,t)},n||0)})},_.Err=function(n){return new Error(n)},_.go.async=function(n){return go_async(_.go==this?null:this,n,arguments,1)},__.async=function(n){function t(){return go_async(this,to_mr(arguments),r,0)}var r=Array.isArray(n)?n:arguments;return t._p_async=!0,t},_.async=__.async,_.pipe.async=__.async,___.async=_.indent.async=function(n){var t=Array.isArray(n)?n:arguments;return function(){return go_async(ithis(this,arguments),to_mr(arguments),t,0)}},_.cb=_.callback=function(n){return __.async.apply(null,map(arguments,function(n){return n._p_cb=!0,n}))},_.boomerang=function(){var n=arguments;return _.callback(function(){var t=arguments,r=t[t.length-1];t.length--;var e=ithis(this,t);e.return=r,go_async(e,to_mr(t),n,0)})},_.branch=function(){var n=arguments;return function(){return arguments.__mr=!0,goapply(this,arguments,n),arguments}},_.all2=function(n){for(var t,r=[],e=1,i=arguments.length;e<i;e++)if(t=_.is_mr(n)?arguments[e].apply(this==_?null:this,n):arguments[e].call(this==_?null:this,n),_.is_mr(t))for(var u=0,i=t.length;u<i;u++)r.push(t[u]);else r.push(t);return to_mr(r)},_.spread2=function(n){for(var t,r=_.rest(arguments,1),e=[],i=0,u=r.length,a=n.length;i<u||i<a;i++)if(t=_.is_mr(n[i])?(r[i]||_.idtt).apply(this==_?null:this,n[i]):(r[i]||_.idtt).call(this==_?null:this,n[i]),_.is_mr(t))for(var o=0,l=t.length;o<l;o++)e.push(t[o]);else e.push(t);return to_mr(e)},_.all=_.All=function(){var n=_.last(arguments);return _.isArray(n)?_.all2.apply(this,[to_mr(_.initial(arguments))].concat(n)):(n=_.toArray(arguments),function(){return _.all2.apply(this,[to_mr(arguments)].concat(n))})},_.spread=_.Spread=function(){var n=_.last(arguments);return _.isArray(n)?_.spread2.apply(this,[to_mr(_.initial(arguments))].concat(n)):(n=_.toArray(arguments),function(){return _.spread2.apply(this,[to_mr(arguments)].concat(n))})},_.if=_.If=function(n,t){function r(n,t){return i.push(t?[n,t]:[_.identity,n])&&e}function e(){var n=this,t=arguments;return _.go.call(this,i,_(_.find,_,function(r){return r[0].apply(n,t)}),function(r){return r?r[1].apply(n,t):void 0})}var i=[t?[n,t]:[_.identity,n]];return _.extend(e,{else_if:r,elseIf:r,else:function(n){return i.push([_.constant(!0),n])&&e}})},_.try=function(n,t){return t=t||_.mr,function(){var r=arguments,e=this;try{var i=n.apply(this,arguments)}catch(n){return t.apply(e,[n].concat(_.toArray(r)))}return thenable(i)||thenable_mr(i)?_.go(i,_.has_error(function(n){return t.apply(e,[n].concat(_.toArray(r)))},_.mr)):i}},_.has_error=function(n,t){return function(){return(_.find(arguments,function(n){return n&&n instanceof Error})?n:t).apply(this,arguments)}},_.noop=function(){},_.this=function(){return this},_.idtt=_.identity=function(n){return n},_.i=_.i18n=function(n){return 1==arguments.length?n:_.toArray(arguments).join(" ")},_.args=function(){return arguments},_.args0=_.identity,_.args1=function(){return arguments[1]},_.args2=function(){return arguments[2]},_.args3=function(){return arguments[3]},_.args4=function(){return arguments[4]},_.a=_.c=_.always=_.constant=function(n){return 0==arguments.length?function(){return __}:function(){return n}},_.true=_.constant(!0),_.false=_.constant(!1),_.null=_.constant(null),_.not=function(n){return!n},_.nnot=function(n){return!!n},_.log=window.console&&window.console.log?console.log.bind?console.log.bind(console):function(){console.log.apply(console,arguments)}:_.idtt,_.loge=window.console&&window.console.error?console.error.bind?console.error.bind(console):function(){console.error.apply(console,arguments)}:_.idtt,_.hi=_.Tap(_.log),_.Hi=function(n){return _.tap(function(){return console.log.apply(null,[n].concat(_.toArray(arguments)))})},_.f=function(n){var t=_.val(window,n),r=Error("warning: "+n+" is not defined");return t||setTimeout(function(){(t=t||_.val(window,n))||_.loge(r)},500)&&function(){return(t||(t=_.val(window,n))).apply(this,arguments)}},_.v=_.val=function(n,t,r){return 1==arguments.length?_.property(n):function n(t,r,e,_){return(t=t[e[r]])?_==r?t:n(t,r+1,e,_):_==r?t:void 0}(n||{},0,r=_.isString(t)?t.split("."):[""],r.length-1)},_.property=function(n){return _(_.val,_,n)},_.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},each(["Arguments","String","Number","Date","RegExp","Error"],function(n){_["is_"+n.toLowerCase()]=_["is"+n]=function(t){return Object.prototype.toString.call(t)==="[object "+n+"]"}}),_.is_function=_.isFunction=function(n){return n instanceof Function},"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.is_function=_.isFunction=function(n){return"function"==typeof n||!1}),_.is_object=_.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},_.is_undefined=_.isUndefined=function(n){return void 0===n};var hasOwnProperty=Object.hasOwnProperty;_.has=function(n,t){return null!=n&&hasOwnProperty.call(n,t)};var MAX_ARRAY_INDEX=Math.pow(2,53)-1;_.is_array_like=_.isArrayLike=likearr;var slice=Array.prototype.slice;_.rest=function n(t,r,e){return _.isNumber(t)?_(n,_,t):slice.call(t,null==r||e?1:r)},_.values=function(n){for(var t=_keys(n),r=t.length,e=Array(r),_=-1;++_<r;)e[_]=n[t[_]];return e},_.toArray=_.to_array=function(n){return _.isArray(n)?n:likearr(n)?slice.call(n):_.values(n)},_.keyval=_.obj=_.object=function(n,t){if(_.isString(n)){var r={};return r[n]=t,r}for(var e={},i=0,u=getLength(n);i<u;i++)t?e[n[i]]=t[i]:e[n[i][0]]=n[i][1];return e},_.valkey=function(n,t){return _.obj(t,n)},_.obj2=_.object2=function n(t,r,e){return 2==arguments.length?_(n,_,t,r):_.obj(_.wrap_arr(r),_.values(_.pick(t,e)))},_.keys=_keys,_.size=function(n){return likearr(n)?n.length:_keys(n).length},_.nest=function n(t,r){return 1==arguments.length?_(n,t):_.reduceRight(t.split("."),_.valkey,r)},_.invert=_invert;var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},unescapeMap=_invert(escapeMap),createEscaper=function(n){var t=function(t){return n[t]},r="(?:"+_keys(n).join("|")+")",e=RegExp(r),_=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(_,t):n}};_.escape=createEscaper(escapeMap),_.unescape=createEscaper(unescapeMap);var idCounter=0;_.unique_id=_.uniqueId=function(n){var t=++idCounter+"";return n?n+t:t},_.clone=function(n){if(!_.isObject(n))return n;if(_.isArray(n))return n.slice();var t=_.extend({},n);return delete t._memoize,t},_.is_empty=_.isEmpty=function(n){return likearr(n)&&(_.isArray(n)||_.isString(n)||_.isArguments(n))?0===n.length:0===_keys(n).length},_.memoize=function(n,t){var r=function(e){var i=r.cache,u=""+(t?t.apply(this,arguments):e);return _.has(i,u)||(i[u]=n.apply(this,arguments)),i[u]};return r.cache={},r},_.memoize2=function(n){return function(t){var r=++n,e=1==arguments.length?t:__.apply(null,arguments);return function(n){return _.has(n._memoize||(n._memoize=function(){}),r)?n._memoize[r]:n._memoize[r]=e(n)}}}(0),_.delay=function(n,t){var r=slice.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},_.defer=_.partial(_.delay,_,1),_.throttle=function(n,t,r){var e,_,i,u=null,a=0;r||(r={});var o=function(){a=!1===r.leading?0:Date.now(),u=null,i=n.apply(e,_),u||(e=_=null)};return function(){var l=Date.now();a||!1!==r.leading||(a=l);var c=t-(l-a);return e=this,_=arguments,c<=0||c>t?(u&&(clearTimeout(u),u=null),a=l,i=n.apply(e,_),u||(e=_=null)):u||!1===r.trailing||(u=setTimeout(o,c)),i}},_.debounce=function(n,t,r){var e,_,i,u,a,o=function(){var l=Date.now()-u;l<t&&l>=0?e=setTimeout(o,t-l):(e=null,r||(a=n.apply(i,_),e||(i=_=null)))};return function(){i=this,_=arguments,u=Date.now();var l=r&&!e;return e||(e=setTimeout(o,t)),l&&(a=n.apply(i,_),i=_=null),a}},_.negate=function(n){return function(){return!n.apply(this,arguments)}},_.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},_.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},_.once=_.partial(_.before,2);var eq=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof _&&(n=n._wrapped),t instanceof _&&(t=t._wrapped);var i=toString.call(n);if(i!==toString.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t}var u="[object Array]"===i;if(!u){if("object"!=typeof n||"object"!=typeof t)return!1;var a=n.constructor,o=t.constructor;if(a!==o&&!(_.isFunction(a)&&a instanceof a&&_.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var l=r.length;l--;)if(r[l]===n)return e[l]===t;if(r.push(n),e.push(t),u){if((l=n.length)!==t.length)return!1;for(;l--;)if(!eq(n[l],t[l],r,e))return!1}else{var c,s=_keys(n);if(l=s.length,_keys(t).length!==l)return!1;for(;l--;)if(c=s[l],!_.has(t,c)||!eq(n[c],t[c],r,e))return!1}return r.pop(),e.pop(),!0};_.is_equal=_.isEqual=function n(t,r){return 1==arguments.length?_(n,t):eq(t,r)},_.is_match=_.isMatch=_.matcher=function n(t,r){if(1==arguments.length)return _(n,_,t);var e=_keys(r),i=e.length;if(null==t)return!i;for(var u,a=0,o=Object(t);a<i;a++)if(r[u=e[a]]!=o[u]||!(u in o))return!1;return!0},_.times=function(n,t){for(var r=0;r<n;r++)t(r)};var toString=Object.prototype.toString;_.is_finite=_.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},_.is_nan=_.isNaN=function(n){return _.isNumber(n)&&n!==+n},_.is_boolean=_.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===toString.call(n)},_.is_null=_.isNull=function(n){return null===n},_.is_numeric=_.isNumeric=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},_.is_array=_.isArray=Array.isArray,_.is_arguments=_.isArguments=function(n){return!(!n||!n.callee)},_.is_element=_.isElement=function(n){return!(!n||1!==n.nodeType)},_.wrapArray=_.wrap_arr=function(n){return _.isArray(n)?n:[n]},_.parseInt=_.parse_int=function(n){return parseInt(n,10)};try{var has_lambda=!0;eval("a=>a")}catch(n){var has_lambda=!1}_.l=_.lambda=lambda,_.extend=function(){return bexdf(setter,arguments)},_.defaults=function(){return bexdf(dsetter,arguments)},_.flatten=function(n,t,r){return flat([],n,t,r)};var _each_async=function n(t,r,e,i,u){return _.go(i,function(){var _=e?e[u]:u;return(e||t).length==u?t:n(t,r,e,r(t[_],_,t),++u)})};_.each=function n(t,r){if(1==arguments.length)return _(n,___,t);var e=DataIter(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;var a=likearr(i)?null:_keys(i);if(u._p_async||u._p_cb)return _each_async(i,u,a,null,0);if(a){if(!a.length)return i;if((l=u(i[a[0]],a[0],i))&&(l.__mr?thenable_mr(l):l.then&&_.isFunction(l.then)))return _each_async(i,u,a,l,1);for(var r=1,o=a.length;r<o;r++)u(i[a[r]],a[r],i)}else{if(!i.length)return i;var l=u(i[0],0,i);if(l&&(l.__mr?thenable_mr(l):l.then&&_.isFunction(l.then)))return _each_async(i,u,null,l,1);for(var r=1,o=i.length;r<o;r++)u(i[r],r,i)}return i};var _map_async=function n(t,r,e,i,u,a){return _.go(i,function(_){u-1>-1&&(a[u-1]=_);var i=e?e[u]:u;return(e||t).length==u?a:n(t,r,e,r(t[i],i,t),++u,a)})};_.map=function n(t,r){if(1==arguments.length)return _(n,___,t);var e=DataIter(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;var a=likearr(i)?null:_keys(i);if(u._p_async||u._p_cb)return _map_async(i,u,a,null,0,[]);var o=[];if(a){if(!a.length)return o;if((c=u(i[a[0]],a[0],i))&&(c.__mr?thenable_mr(c):c.then&&_.isFunction(c.then)))return _map_async(i,u,a,c,1,o);o[0]=c;for(var r=1,l=o.length=a.length;r<l;r++)o[r]=u(i[a[r]],a[r],i)}else{if(!i.length)return o;var c=u(i[0],0,i);if(c&&(c.__mr?thenable_mr(c):c.then&&_.isFunction(c.then)))return _map_async(i,u,null,c,1,o);o[0]=c;for(var r=1,l=o.length=i.length;r<l;r++)o[r]=u(i[r],r,i)}return o},_.if_arr_map=function n(t,r){return 1==arguments.length?_(n,_,t):_.is_array(t)?_.map(t,r):r(t)},_.sum=function n(t){return _.is_function(t)?_(n,___,t):(_.is_function(arguments[arguments.length-1])||(arguments[arguments.length++]=_.idtt),_.go(_.to_mr(arguments),_.map,function(n){if(!n.length)return n;for(var t=0,r=n[0],e=n.length;++t<e;)r+=n[t];return r}))},_.join=function n(t,r){return 0==arguments.length||"string"==typeof t?_(n,_,t):_.toArray(t).join(r)};var _reduce_async=function n(t,r,e,i,u){return _.go(i,function(_){var i=e?e[u]:u;return(e||t).length==u?_:n(t,r,e,r(_,t[i],i,t),++u)})};_.reduce=function n(t,r,e){if(1==arguments.length)return _(n,_,___,t,_);if(2==arguments.length&&_.isFunction(t))return _(n,___,t,_.isFunction(r)?r:_(_.clone,r));if(arguments.length<4)var i=t,u=r,a=e;else var i=arguments[arguments.length-3],u=Iter(arguments,!0),a=arguments[arguments.length-1];a=_.isFunction(a)?a.call(this,t):a,this!=_&&this!=G&&(u=_.bind(u,this));var o=likearr(i)?null:_keys(i),r=0;if(u._p_async||u._p_cb)return _reduce_async(i,u,o,arguments.length>2?a:o?i[o[r++]]:i[r++],r);if(o){if(a=arguments.length>2?a:i[o[r++]],!(l=o.length)||l==r)return a;if((a=u(a,i[o[r]],o[r++],i))&&(a.__mr?thenable_mr(a):a.then&&_.isFunction(a.then)))return _reduce_async(i,u,o,a,r);for(;r<l;r++)a=u(a,i[o[r]],o[r],i)}else{a=arguments.length>2?a:i[r++];var l=i.length;if(!l||l==r)return a;if((a=u(a,i[r],r++,i))&&(a.__mr?thenable_mr(a):a.then&&_.isFunction(a.then)))return _reduce_async(i,u,null,a,r);for(;r<l;r++)a=u(a,i[r],r,i)}return a};var _reduce_right_async=function n(t,r,e,i,u){return _.go(i,function(_){var i=e?e[u]:u;return(e||t).length==u?_:n(t,r,e,r(_,t[i],i,t),++u)})};_.reduceRight=_.reduce_right=function n(t,r,e){if(1==arguments.length)return _(n,_,___,t,_);if(2==arguments.length&&_.isFunction(t))return _(n,___,t,_.isFunction(r)?r:_(_.clone,r));if(arguments.length<4)var i=t,u=r,a=e;else var i=arguments[arguments.length-3],u=Iter(arguments,!0),a=arguments[arguments.length-1];a=_.isFunction(a)?a.call(this):a,this!=_&&this!=G&&(u=_.bind(u,this));var o=likearr(i)?null:_keys(i);if(u._p_async||u._p_cb){r=(o||i).length-1;return _reduce_right_async(i,u,o,arguments.length>2?a:o?i[o[r--]]:i[r--],r)}if(o){r=o.length-1;if(a=arguments.length>2?a:i[o[r--]],!o.length||-1==r)return a;if((a=u(a,i[o[r]],o[r--],i))&&(a.__mr?thenable_mr(a):a.then&&_.isFunction(a.then)))return _reduce_async(i,u,o,a,r);for(;r>-1;r--)a=u(a,i[o[r]],o[r],i)}else{var r=i.length-1;if(a=arguments.length>2?a:i[r--],!i.length||-1==r)return a;if((a=u(a,i[r],r--,i))&&(a.__mr?thenable_mr(a):a.then&&_.isFunction(a.then)))return _reduce_async(i,u,null,a,r);for(;r>-1;r--)a=u(a,i[r],r,i)}return a},_.break=function(){return arguments._break=!0,arguments},_.loop=function n(t,r,e){if(1==arguments.length)return _(n,_,___,t,_);if(2==arguments.length&&_.isFunction(t))return _(n,___,t,_.isFunction(r)?r:_(_.clone,r));if(arguments.length<4)var i=t,u=r,a=e;else var i=arguments[arguments.length-3],u=Iter(arguments,!0),a=arguments[arguments.length-1];a=_.isFunction(a)?a.call(this):a,this!=_&&this!=G&&(u=_.bind(u,this));var o=likearr(i)?null:_keys(i);return a=arguments.length>2?a:i[o?o[0]:0],_.go(_.find(i,function(n,t,r){return _.go(u(a,n,t,r),function(n){var t=n&&n._break;return a=t?n[0]:n,t})}),function(){return a})};var _find_async=function n(t,r,e,i,u){return _.go(i,function(_){if(_)return t[e?e[u-1]:u-1];var i=e?e[u]:u;return(e||t).length==u?void 0:n(t,r,e,r(t[i],i,t),++u)})};_.find=function n(t,r){if(1==arguments.length)return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;var a=likearr(i)?null:_keys(i);if(u._p_async||u._p_cb)return _find_async(i,u,a,null,0);if(a){if(!a.length)return;if((l=u(i[a[0]],a[0],i))&&(l.__mr?thenable_mr(l):l.then&&_.isFunction(l.then)))return _find_async(i,u,a,l,1);if(l)return i[a[0]];for(var r=1,o=a.length;r<o;r++)if(u(i[a[r]],a[r],i))return i[a[r]]}else{if(!i.length)return;var l=u(i[0],0,i);if(l&&(l.__mr?thenable_mr(l):l.then&&_.isFunction(l.then)))return _find_async(i,u,null,l,1);if(l)return i[0];for(var r=1,o=i.length;r<o;r++)if(u(i[r],r,i))return i[r]}};var _filter_async=function n(t,r,e,i,u,a){return _.go(i,function(_){_&&a.push(t[e?e[u-1]:u-1]);var i=e?e[u]:u;return(e||t).length==u?void 0:n(t,r,e,r(t[i],i,t),++u,a)})};_.filter=function n(t,r){if(1==arguments.length)return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;var a=likearr(i)?null:_keys(i);if(u._p_async||u._p_cb)return _filter_async(i,u,a,null,0,[]);var o=[];if(a){if(!a.length)return i;if((c=u(i[a[0]],a[0],i))&&(c.__mr?thenable_mr(c):c.then&&_.isFunction(c.then)))return _filter_async(i,u,a,c,1,o);c&&o.push(i[a[0]]);for(var r=1,l=a.length;r<l;r++)u(i[a[r]],a[r],i)&&o.push(i[a[r]])}else{if(!i.length)return i;var c=u(i[0],0,i);if(c&&(c.__mr?thenable_mr(c):c.then&&_.isFunction(c.then)))return _filter_async(i,u,null,c,1,o);c&&o.push(i[0]);for(var r=1,l=i.length;r<l;r++)u(i[r],r,i)&&o.push(i[r])}return o};var _reject_async=function n(t,r,e,i,u,a){return _.go(i,function(_){_||a.push(t[e?e[u-1]:u-1]);var i=e?e[u]:u;return(e||t).length==u?void 0:n(t,r,e,r(t[i],i,t),++u,a)})};_.reject=function n(t,r){if(1==arguments.length)return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;var a=likearr(i)?null:_keys(i);if(u._p_async||u._p_cb)return _reject_async(i,u,a,null,0,[]);var o=[];if(a){if(!a.length)return i;if((c=u(i[a[0]],a[0],i))&&(c.__mr?thenable_mr(c):c.then&&_.isFunction(c.then)))return _reject_async(i,u,a,c,1,o);c||o.push(i[a[0]]);for(var r=1,l=a.length;r<l;r++)u(i[a[r]],a[r],i)||o.push(i[a[r]])}else{if(!i.length)return i;var c=u(i[0],0,i);if(c&&(c.__mr?thenable_mr(c):c.then&&_.isFunction(c.then)))return _reject_async(i,u,null,c,1,o);c||o.push(i[0]);for(var r=1,l=i.length;r<l;r++)u(i[r],r,i)||o.push(i[r])}return o};var _every_or_some_async=function n(t,r,e,i,u,a){return _.go(i,function(_){if(a?_:!_)return a;var i=e?e[u]:u;return(e||t).length==u||n(t,r,e,r(t[i],i,t),++u,a)})};_.every=every_or_some(!1),_.some=every_or_some(!0),_.where=function(n,t){return 1==arguments.length?_.filter(function(n){return _.is_match(n,t)}):_.filter(n,function(n){return _.is_match(n,t)})},_.findWhere=_.find_where=function(n,t){return 1==arguments.length?_.find(function(n){return _.is_match(n,t)}):_.find(n,function(n){return _.is_match(n,t)})},_.contains=function(n,t,r){return likearr(n)||(n=_.values(n)),"number"!=typeof r&&(r=0),_.indexOf(n,t,r)>=0},_.invoke=function(n,t){var r=_.rest(arguments,2),e=_.isFunction(t);return _.map(n,function(n){var _=e?t:n[t];return _&&_.apply(n,r)})},_.pluck=function n(t,r){return 1==arguments.length?_(n,_,t):_.map(t,_.isNumber(r)?function(n){return n[r]}:_.property(r))},_.deep_pluck=_.deepPluck=function n(t,r){if(1==arguments.length)return _(n,_,t);var e,i=(r=_.isString(r)?r.split(/\s*\.\s*/):[""]).length;return _.reduce(likearr(t)?t:[t],function(t,u){for(var a=u,o=-1;++o<i&&_.isObject(a)&&!_.isArray(a);)a=a[r[o]];return t.concat(o>=i?_.isArray(a)?[a]:a:_.isArray(a)?n(a,e||(e=_.rest(r,o).join("."))):void 0)},[])},_.max=function n(t,r){if(1==arguments.length&&_.isFunction(t)||_.isString(t))return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;if(_.isEmpty(i))return-1/0;var a,o,l;if(likearr(i)){if(isNaN(a=u(l=i[0],0,i)))return-1/0;for(var r=1,c=i.length;r<c;r++)(o=u(i[r],r,i))>a&&(a=o,l=i[r])}else{var s=_keys(i);if(isNaN(a=u(l=i[s[0]],s[0],i)))return-1/0;for(var r=1,c=s.length;r<c;r++)(o=u(i[s[r]],s[r],i))>a&&(a=o,l=i[s[r]])}return l},_.min=function n(t,r){if(1==arguments.length&&_.isFunction(t)||_.isString(t))return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;if(_.isEmpty(i))return 1/0;var a,o,l;if(likearr(i)){if(isNaN(a=u(l=i[0],0,i)))return 1/0;for(var r=1,c=i.length;r<c;r++)(o=u(i[r],r,i))<a&&(a=o,l=i[r])}else{var s=_keys(i);if(isNaN(a=u(l=i[s[0]],s[0],i)))return 1/0;for(var r=1,c=s.length;r<c;r++)(o=u(i[s[r]],s[r],i))<a&&(a=o,l=i[s[r]])}return l},_.sortBy=_.sort_by=function n(t,r){if(1==arguments.length&&_.isFunction(t)||_.isString(t))return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;return _.pluck(_.map(i,function(n,t,r){return{val:n,idx:t,criteria:u(n,t,r)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.idx-t.idx}),"val")},_.groupBy=_.group_by=function n(t,r){if(1==arguments.length&&_.isFunction(t)||_.isString(t))return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;for(var a={},o=_.map(i,u),r=0,l=o.length;r<l;r++)_.has(a,o[r])?a[o[r]].push(i[r]):a[o[r]]=[i[r]];return a},_.indexBy=_.index_by=function n(t,r){if(1==arguments.length&&_.isFunction(t)||_.isString(t))return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;for(var a={},o=_.map(i,u),r=0,l=o.length;r<l;r++)a[o[r]]=i[r];return a},_.countBy=_.count_by=function n(t,r){if(1==arguments.length&&_.isFunction(t)||_.isString(t))return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;for(var a={},o=_.map(i,u),r=0,l=o.length;r<l;r++)a[o[r]]++||(a[o[r]]=1);return a},_.shuffle=function(n){for(var t,r=likearr(n)?n:_.values(n),e=r.length,i=Array(e),u=0;u<e;u++)(t=_.random(0,u))!==u&&(i[u]=i[t]),i[t]=r[u];return i},_.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},_.sample=function(n,t){return 2==arguments.length&&t<1?[]:t?_.shuffle(n).slice(0,t):_.shuffle(n)[0]},_.partition=function n(t,r){if(1==arguments.length&&_.isFunction(t)||_.isString(t))return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;var a=[],o=[];return _.each(i,function(n,t,r){(u(n,t,r)?a:o).push(n)}),[a,o]},_.first=_.head=_.take=function n(t,r,e){if(1==arguments.length&&_.isNumber(t))return _(n,_,t);if(null!=t)return null==r||e?t[0]:_.initial(t,t.length-r)},_.initial=function n(t,r,e){return 1==arguments.length&&_.isNumber(t)?_(n,_,t):slice.call(t,0,Math.max(0,t.length-(null==r||e?1:r)))},_.last=function n(t,r,e){if(1==arguments.length&&_.isNumber(t))return _(n,_,t);if(null!=t)return null==r||e?t[t.length-1]:_.rest(t,Math.max(0,t.length-r))},_.compact=function(n){return _.filter(n,_.identity)},_.without=function(n){return _.difference(n,slice.call(arguments,1))},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(n){for(var t=[],r=arguments.length,e=0,i=getLength(n);e<i;e++){var u=n[e];if(!_.contains(t,u)){for(var a=1;a<r&&_.contains(arguments[a],u);a++);a===r&&t.push(u)}}return t},_.difference=function(n){var t=_.flatten(arguments,!0,1);return _.reject(n,function(n){return _.contains(t,n)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(n){for(var t=n&&_.max(n,getLength).length||0,r=Array(t),e=0;e<t;e++)r[e]=_.pluck(n,e);return r},_.unique=_.uniq=function n(t,r){if(1==arguments.length&&_.isFunction(t)||_.isString(t))return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;for(var a=[],o=[],l=u?_.map(i,u):i,r=0,c=getLength(i);r<c;r++)-1==o.indexOf(l[r])&&(o.push(l[r]),a.push(i[r]));return a},_.append=function(n,t){for(var r=1,e=arguments.length;r<e;r++)n[n.length++]=arguments[r];return n},_.sortedIndex=_.sorted_i=function n(t,r,e){if(_.isFunction(t))return _(n,_,_,t);if(arguments.length>3)var i=arguments[arguments.length-3],u=arguments[arguments.length-2],a=_.apply(null,_.last(arguments,1).concat(_.initial(arguments,3)));else var i=t,u=r,a=e||_.idtt;this!=_&&this!=G&&(a=_.bind(a,this));for(var o=a(u),l=0,c=getLength(i);l<c;){var s=Math.floor((l+c)/2);a(i[s])<o?l=s+1:c=s}return l},_.find_i=_.findIndex=function n(t,r){if(1==arguments.length)return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;for(var r=0,a=getLength(i);r<a;r++)if(u(i[r],r,i))return r;return-1},_.findLastIndex=_.find_last_i=function n(t,r){if(1==arguments.length)return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;for(var r=getLength(i)-1;r>=0;r--)if(u(i[r],r,i))return r;return-1},_.index_of=_.indexOf=createIndexFinder(1,_.findIndex,_.sortedIndex),_.last_index_of=_.lastIndexOf=createIndexFinder(-1,_.findLastIndex),_.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),_=Array(e),i=0;i<e;i++,n+=r)_[i]=n;return _},_.mapObject=_.map_object=function n(t,r){if(1==arguments.length)return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;for(var a={},o=_keys(i),r=0,l=o.length;r<l;r++)a[o[r]]=u(i[o[r]],o[r],i);return a},_.pairs=function(n){for(var t=_keys(n),r=t.length,e=Array(r),_=-1;++_<r;)e[_]=[t[_],n[t[_]]];return e},_.functions=function(n){var t=[];for(var r in n)_.isFunction(n[r])&&t.push(r);return t.sort()},_.find_k=_.find_key=_.findKey=function n(t,r){if(1==arguments.length)return _(n,___,t);var e=DataIter2(arguments,2,this);if(e)var i=e[0],u=e[1];else var i=t,u=r;for(var a,o=_keys(i),r=0,l=o.length;r<l;r++)if(u(i[a=o[r]],a,i))return a},_.pick=function n(t,r){if(1==arguments.length)return _(n,___,t);if(2==arguments.length)var e=t,i=r;else var e=arguments[arguments.length-2],i=Iter(arguments);if(!e)return{};this!=_&&this!=G&&_.isFunction(i)&&(i=_.bind(i,this));var u={},r=-1;if(_.isFunction(i))for(l=(o=_keys(e)).length;++r<l;){var a=e[c=o[r]];i(a,c,e)&&(u[c]=a)}else for(var o=_.wrap_arr(i),l=o.length;++r<l;){var c=o[r];c in e&&(u[c]=e[c])}return u},_.omit=function n(t,r){if(1==arguments.length)return _(n,___,t);if(2==arguments.length)var e=t,i=r;else var e=arguments[arguments.length-2],i=Iter(arguments);if(!e)return{};this!=_&&this!=G&&_.isFunction(i)&&(i=_.bind(i,this));var u={},r=-1;if(_.isFunction(i))for(l=(o=_keys(e)).length;++r<l;)i(e[o[r]],o[r],e)||(u[o[r]]=e[o[r]]);else for(var a=_keys(e),o=_.wrap_arr(i),l=a.length;++r<l;)-1==o.indexOf(a[r])&&(u[a[r]]=e[a[r]]);return u};var s_matcher_reg1=/\{\{\{.*?\}\}\}/g,s_matcher_reg2=/\{\{.*?\}\}/g,insert_datas1=_.partial(s_exec,s_matcher_reg1,_.escape),insert_datas2=_.partial(s_exec,s_matcher_reg2,_.idtt),TAB,TAB_SIZE,REG1,REG2,REG3,REG4,REG5,REG6,REG7,REG8;_.TAB_SIZE=function(n){TAB_SIZE=n;var t=(TAB="( {"+n+"}|\\t)")+"+";REG1=new RegExp("^"+t),REG2=new RegExp("//"+t+".*?(?=((//)?"+t+"))|//"+t+".*","g"),REG3=new RegExp(t+"\\S.*?(?="+t+"\\S)|"+t+"\\S.*","g"),REG4={},times2(20,function(n){REG4[n]=new RegExp(TAB+"{"+n+"}$")}),REG5=new RegExp("^("+t+")(\\[.*?\\]|\\{.*?\\}|\\S)+\\.(?!\\S)"),REG6={},times2(20,function(n){REG6[n]=new RegExp("("+TAB+"{"+n+"})","g")}),REG7=new RegExp("\\n("+t+"[\\s\\S]*)"),REG8=new RegExp("^"+t+"\\|")},_.TAB_SIZE(2),_.template=_.t=function(){return s.apply(null,[convert_to_html].concat(_.toArray(arguments)))},_.template$=_.t$=function(){return s.apply(null,[convert_to_html,"$"].concat(_.toArray(arguments)))},_.string=_.s=function(){return s.apply(null,[_.idtt].concat(_.toArray(arguments)))},_.string$=_.s$=function(){return s.apply(null,[_.idtt,"$"].concat(_.toArray(arguments)))};var teach=function(n,t){return function(){var r=(t=t||_.idtt)(n.apply(null,arguments));return t(function(n){return _.go(1==arguments.length?_.map(_.wrapArray(n),r):_.map.apply(null,_.to_array(arguments).concat(r)),function(n){return n.join("")})})}};_.teach=_.template.each=_.t.each=teach(_.t),_.teach_memoize2=teach(_.t,_.memoize2),_.seach=_.string.each=_.t.seach=teach(_.s),_.t$each=_.template$.each=_.t$.each=teach(_.t$),_.s$each=_.string$.each=_.t$.seach=teach(_.s$),window.__ptf_storage={},_.remove=_remove,_.remove_by_i=_.removeByIndex=function(n,t){if(-1!==t){var r=n.slice(t+1||n.length);n.length=t,n.push.apply(n,r)}return t},_.sel=_.select=function(n,t){return t&&_.reduce(t.split(/\s*->\s*/),function(n,t){if(n&&t)return t.match(/^\((.+)\)/)?_.find(n,_.lambda(RegExp.$1)):t.match(/\[(.*)\]/)?function(n,t){if(t.length>2||t.length<1||_.filter(t,function(n){return isNaN(n)}).length)return _.Err("[] sel in [num] or [num ~ num]");var r=t[0],e=t[1];return e?slice.call(n,r<0?n.length+r:r,e<0?n.length+e:e+1):n[r<0?n.length+r:r]}(n,_.map(RegExp.$1.replace(/\s/g,"").split("~"),_.parseInt)):n[t]},n)},_.extend(_,{set:function n(t,r,e){if(2==arguments.length)return _(n,_,t,r);if(1==arguments.length)return _(n,_,t);var i=r.split(/\s*->\s*/),u=i.length-1;return _.mr_cat(t,_set(1==i.length?t:_.sel(t,i.slice(0,u).join("->")),i[u],e))},unset:function(n,t){var r=t.split(/\s*->\s*/),e=r.length-1;return _.mr_cat(n,_unset(1==r.length?n:_.sel(n,r.slice(0,e).join("->")),r[e]))},remove2:function(n,t,r){if(r)return _.mr_cat(n,_remove(_.sel(n,t),r));var e=t.split(/\s*->\s*/);return _.mr_cat(n,_remove(_.sel(n,e.slice(0,e.length-1).join("->")),_.sel(n,t)))},extend2:function(n,t){return _.mr_cat(n,_.extend.apply(null,[_.sel(n,t)].concat(_.toArray(arguments).slice(2,arguments.length))))},defaults2:function(n,t){return _.mr_cat(n,_.defaults.apply(null,[_.sel(n,t)].concat(_.toArray(arguments).slice(2,arguments.length))))},pop:function(n,t){return _.mr_cat(n,_pop(_.sel(n,t)))},shift:function(n,t){return _.mr_cat(n,_shift(_.sel(n,t)))},push:function(n,t,r){return _.mr_cat(n,_push(_.sel(n,t),r))},unshift:function(n,t,r){return _.mr_cat(n,_unshift(_.sel(n,t),r))}}),_.immutable=_.im=_.extend(function(n,t){var r=_.clone(n);return{start:r,selected:_.reduce(t.split(/\s*->\s*/),function(n,t){return t.match(/^\((.+)\)/)?function(n,t){return n[n.indexOf(t)]=_.clone(t)}(n,_.find(n,_.lambda(RegExp.$1))):t.match(/\[(.*)\]/)?function(n,t){if(t.length>2||t.length<1||_.filter(t,_.pipe(_.identity,isNaN)).length)return _.Err("[] sel in [num] or [num ~ num]");var r=t[0],e=t[1];return e?function(n,t){return each(t,function(t){n[n.indexOf(t)]=_.clone(t)})}(n,slice.call(n,r<0?n.length+r:r,e<0?n.length+e:e+1)):n[r]=_.clone(n[r<0?n.length+r:r])}(n,map(RegExp.$1.replace(/\s/g,"").split("~"),_.pipe(_.identity,parseInt))):n[t]=_.clone(n[t])},r)}},{set:function(n,t,r){var e=t.split(/\s*->\s*/),i=e.length-1,u=_.im(n,e.slice(0,1==e.length?void 0:i).join("->"));return _.mr_cat(u.start,_set(1==e.length?u.start:u.selected,e[i],r))},unset:function(n,t){var r=t.split(/\s*->\s*/),e=r.length-1,i=_.im(n,r.slice(0,e).join("->"));return _.mr_cat(i.start,_unset(1==r.length?i.start:i.selected,r[e]))},remove2:function(n,t,r){var e=t.split(/\s*->\s*/),i=_.im(n,t);return r?to_mr([n].concat(_remove(i.selected,r))):_.mr_cat(i.start,_remove(_.sel(i.start,e.slice(0,e.length-1).join("->")),i.selected))},extend:function(n){return _.extend.apply(null,[_.is_array(n)?[]:{},n].concat(_.toArray(arguments).slice(1,arguments.length)))},defaults:function(n){return _.defaults.apply(null,[_.is_array(n)?[]:{},n].concat(_.toArray(arguments).slice(1,arguments.length)))},extend2:function(n,t){var r=_.im(n,t);return _.mr_cat(r.start,_.extend.apply(null,[r.selected].concat(_.toArray(arguments).slice(2,arguments.length))))},defaults2:function(n,t){var r=_.im(n,t);return _.mr_cat(r.start,_.defaults.apply(null,[r.selected].concat(_.toArray(arguments).slice(2,arguments.length))))},pop:function(n,t){var r=_.im(n,t);return _.mr_cat(r.start,_pop(r.selected))},shift:function(n,t){var r=_.im(n,t);return _.mr_cat(r.start,_shift(r.selected))},push:function(n,t,r){var e=_.im(n,t);return _.mr_cat(e.start,_push(e.selected,r))},unshift:function(n,t,r){var e=_.im(n,t);return _.mr_cat(e.start,_unshift(e.selected,r))}}),_.box=function(n,t){function r(n){if(n&&(!likearr(n)||n.length))return _.select(u,e(n))}function e(n){return _.isString(n)?n:_.isArray(n)?map(n,function(n){return _.isString(n)?n:(likearr(n)?n[0]:n).getAttribute("_sel")}).join("->"):(likearr(n)?n[0]:n).getAttribute("_sel")}var i,u=new Box,a=_.isString(n);if(a&&2==arguments.length)u[n]=t;else if(!a&&1==arguments.length)for(i in n)u[i]=n[i];var o=function(){return u};return _.extend(o,{stringify:function(){return JSON.stringify(u)},select:r,sel:r,set:function(n,t){return help_result(_.set(u,e(n),t),o)},unset:function(n){return help_result(_.unset(u,e(n)),o)},remove2:function(n){return help_result(_.remove2(u,e(n)),o)},extend:function(n){return _.extend(u,n),_.mr_cat(o,n)},defaults:function(n){return _.defaults(u,n),_.mr_cat(o,n)},extend2:function(n){return help_result(_.extend2.apply(null,[u,e(n)].concat(_.toArray(arguments).slice(1,arguments.length))),o)},defaults2:function(n){return help_result(_.defaults2.apply(null,[u,e(n)].concat(_.toArray(arguments).slice(1,arguments.length))),o)},pop:function(n){return help_result(_.pop(u,e(n)),o)},push:function(n,t){return help_result(_.push(u,e(n),t),o)},shift:function(n){return help_result(_.shift(u,e(n)),o)},unshift:function(n,t){return help_result(_.unshift(u,e(n),t),o)},im:{set:function(n,t){return help_result(_.im.set(u,e(n),t))},unset:function(n){return help_result(_.im.unset(u,e(n)))},remove2:function(n){return help_result(_.im.remove2(u,e(n)))},extend:function(){return help_result(_.im.extend.apply(null,[u].concat(_.toArray(arguments))))},defaults:function(){return help_result(_.im.defaults.apply(null,[u].concat(_.toArray(arguments))))},extend2:function(n){return help_result(_.im.extend2.apply(null,[u,e(n)].concat(_.toArray(arguments).slice(1,arguments.length))))},defaults2:function(n){return help_result(_.im.defaults2.apply(null,[u,e(n)].concat(_.toArray(arguments).slice(1,arguments.length))))},pop:function(n){return help_result(_.im.pop(u,e(n)))},push:function(n,t){return help_result(_.im.push(u,e(n),t))},shift:function(n){return help_result(_.im.shift(u,e(n)))},unshift:function(n,t){return help_result(_.im.unshift(u,e(n),t))}}})},function(n,t){function r(n,r,e,_){var i=t[n];return e.is_once=!!_,i||(i=t[n]={}),(i[r]=i[r]||[]).push(e),e}function e(t,r,e){_set(r,e,n.reject(r[e],function(n){return n.apply(null,t),n.is_once}))}n.noti=n.notice={on:r,once:n(r,n,n,n,!0),off:function(r,e){var _=t[r];1==arguments.length?_unset(t,r):_&&2==arguments.length&&each(n.isString(e)?[e]:e,n(_unset,_))},emit:function(r,_,i){!function(t,r){t&&(n.isString(r)?e(i,t,r):n.isArray(r)&&each(r,n(e,i,t)))}(t[r],n.isFunction(_)?_(n.keys(t[r])):_)},emitAll:function(n,r){var _,i=t[n];if(i)for(_ in i)e(r,i,_)}}}(_,{});var L=G.L=_.L={};L.strict=function(n){return _.isNumber(n)?L.strict(function(t){return t.length<n}):(n._p_go_lazy&&(n=wrap_iter(n)),n._p_lzne=n._p_lzst=!0,n)},L.map=function(n){if(n._p_go_lazy){if(n._p_lzt_m)return n;n=wrap_iter(n)}return n._p_lzne=n._p_lzt_m=!0,n._p_go_lazy=go_lazy,n},L.filter=function(n){if(n._p_go_lazy){if(n._p_lzt_ft)return n;n=wrap_iter(n)}return n._p_lzt_m=!1,n._p_lzne=n._p_lzt_ft=!0,n._p_go_lazy=go_lazy,n},L.reject=function(n){function t(t){return!n(t)}return t._p_lzt_m=!1,t._p_lzne=t._p_lzt_ft=!0,t._p_go_lazy=go_lazy,t},L.find=function(n){if(n._p_go_lazy){if(n._p_lzt_fi)return n;n=wrap_iter(n)}return n._p_lze=n._p_lzt_fi=!0,n._p_go_lazy=go_lazy_fi,n},L.some=function(n){if(n._p_go_lazy){if(n._p_lzt_s)return n;n=wrap_iter(n)}return n._p_lze=n._p_lzt_s=!0,n._p_go_lazy=go_lazy_s,n},L.every=function(n){if(n._p_go_lazy){if(n._p_lzt_e)return n;n=wrap_iter(n)}return n._p_lze=n._p_lzt_e=!0,n._p_go_lazy=go_lazy_e,n},L.take=function(n){return{limit:n,_p_lzt_t:!0,_p_lze:!0,_p_go_lazy:go_lazy_t}},L.loop=function(n,t){function r(t){return n(t)}return 2==arguments.length&&(r=_.mr(r,t)),r._p_lze=r._p_lzt_l=!0,r._p_go_lazy=go_lazy_l,r},"function"==typeof define&&define.amd?define("partial",[],function(){return _}):"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports?module.exports=_:window._=_,window._p=_,window.__=__,window.__1=__1,window.___=___,window.___1=___1}("object"==typeof global&&global.global==global&&(global.G=global)||(window.G=window));